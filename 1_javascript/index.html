<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Check Duplicates in Array</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>Check Duplicates in Array</h1>

  <div class="row">
    <label for="items"><b>Items</b> (separate with commas, semicolons, or line breaks):</label><br />
    <textarea id="items" placeholder="e.g.: 1, 2, 3, 2, 5, 1
or
apple
banana
apple"
></textarea>
  </div>

  <div class="row">
    <label><input type="checkbox" id="asNumbers"> Treat as numbers</label>
    &nbsp;•&nbsp;
    <label><input type="checkbox" id="caseSensitive"> Case sensitive</label>
  </div>

  <div class="row">
    <button id="runBtn" class="btn1">Check duplicates</button>
  </div>

  <div class="row">
    <b>Result:</b>
    <pre id="output">—</pre>
  </div>

  <div class="row">
    <a href="../index.html" class="btn">Home</a>
  </div>

  <script src="duplicates.js"></script>
  <script>
    const $ = (sel) => document.querySelector(sel);
    const sepRegex = /[,\n;]+/;

    $('#runBtn').addEventListener('click', () => {
      const caseSensitive = $('#caseSensitive').checked;
      const asNumbers = $('#asNumbers').checked;

      let items = $('#items').value.split(sepRegex)
        .map(s => s.trim())
        .filter(Boolean);

      if (!caseSensitive) {
        items = items.map(v => (typeof v === 'string' ? v.toLowerCase() : v));
      }
      if (asNumbers) {
        items = items.map(v => {
          return isNaN(Number(v)) ? v : Number(v);
        });
      }

      const dups = findDuplicates(items);
      if (dups.includes(null)) {
        $('#output').textContent = "There are no duplicates with the current filters";
      } else {
        $('#output').textContent = dups.length
          ? `Duplicates: ${JSON.stringify(dups)}`
          : 'No duplicates';
      }
    });
  </script>
</body>
</html>
