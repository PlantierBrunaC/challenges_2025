<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Checar duplicados no array</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">


</head>
<body>

  <h1>Checar Duplicados no Array</h1>

  <div class="row">
    <label for="items"><b>Itens</b> (separe por vírgula, ponto e vírgula ou quebra de linha):</label><br />
    <textarea id="items" placeholder="ex.: 1, 2, 3, 2, 5, 1
ou
maçã
banana
maçã"
>
</textarea>
  </div>

  <div class="row">
    <label><input type="checkbox" id="asNumbers"> Tratar como números</label>
    &nbsp;•&nbsp;
    <label><input type="checkbox" id="caseSensitive"> Diferenciar maiúsculas/minúsculas</label>
  </div>

  <div class="row">
    <button id="runBtn" class="btn1">Checar duplicados</button>
  </div>

  <div class="row">
    <b>Resultado:</b>
    <pre id="output">—</pre>
  </div>


  <div class="row">
    <a href="../index.html" class="btn">Voltar para home</a>
  </div>

  

  <script src="duplicates.js"></script>
  <script>
    const $ = (sel) => document.querySelector(sel);
    const sepRegex = /[,\n;]+/;

    $('#runBtn').addEventListener('click', () => {
      const caseSensitive = $('#caseSensitive').checked;
      const asNumbers = $('#asNumbers').checked;

      let items = $('#items').value.split(sepRegex)
        .map(s => s.trim())
        .filter(Boolean);

      if (!caseSensitive) {
        items = items.map(v => (typeof v === 'string' ? v.toLowerCase() : v));
      }
      if (asNumbers) {
        items = items.map(v => {
          return isNaN(Number(v)) ? v : Number(v);
        });
      }

      const dups = findDuplicates(items);
      if (dups.includes(null)) {
        $('#output').textContent = "Não há duplicados com os filtros atuais";
      } else {
        $('#output').textContent = dups.length
          ? `Duplicados: ${JSON.stringify(dups)}`
          : 'Sem duplicados ✅';
      }
    });
  </script>
</body>
</html>
